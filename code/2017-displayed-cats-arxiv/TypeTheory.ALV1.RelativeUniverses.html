<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>TypeTheory.ALV1.RelativeUniverses</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library TypeTheory.ALV1.RelativeUniverses</h1>

<div class="code">
</div>

<div class="doc">
  <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#"><span class="id" title="library">TypeTheory.ALV1.RelativeUniverses</span></a></span>

<div class="paragraph"> </div>

  Part of the <span class="inlinecode"><span class="id" title="var">TypeTheory</span></span> library (Ahrens, Lumsdaine, Voevodsky, 2015–present).

<div class="paragraph"> </div>


<div class="paragraph"> </div>

Contents:

<div class="paragraph"> </div>

<ul class="doclist">
<li> Definition of universe structure on a map, relative to a functor: <span class="inlinecode"><span class="id" title="var">fcomprehension</span></span>

</li>
<li> <span class="inlinecode"><span class="id" title="var">fcomprehension</span></span> is a proposition under saturation assumptions: <span class="inlinecode"><span class="id" title="var">isaprop_fcomprehension</span></span>

</li>
<li> Definition of a relative universe: <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#relative_universe"><span class="id" title="definition">relative_universe</span></a></span> (due to Vladimir Voevodsky)

</li>
<li> Transfer of a relative universe from one functor to another: <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#transfer_of_rel_univ_with_ess_surj"><span class="id" title="definition">transfer_of_rel_univ_with_ess_surj</span></a></span>

</li>
</ul>

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">UniMath.Foundations.Sets</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="TypeTheory.Auxiliary.CategoryTheoryImports.html#"><span class="id" title="library">TypeTheory.Auxiliary.CategoryTheoryImports</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#"><span class="id" title="library">TypeTheory.Auxiliary.Auxiliary</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="TypeTheory.Auxiliary.UnicodeNotations.html#"><span class="id" title="library">TypeTheory.Auxiliary.UnicodeNotations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Automatic</span> <span class="id" title="var">Introduction</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "[ C , D ]" := (<span class="id" title="definition">functor_category</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab50"></a><h1 class="section">Relative universe structures</h1>

<div class="paragraph"> </div>

 Given a map <span class="inlinecode"></span> <span class="inlinecode"><a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode">Ũ</span> <span class="inlinecode">—&gt;</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.fix_a_morphism.U"><span class="id" title="variable">U</span></a></span> <span class="inlinecode"></span> in a category <span class="inlinecode"><a class="idref" href="TypeTheory.Displayed_Cats.Constructions.html#Functor.D"><span class="id" title="variable">D</span></a></span>, 
    and a functor <span class="inlinecode"></span> <span class="inlinecode"><a class="idref" href="TypeTheory.Categories.category_of_elements.html#category_of_elements_covariant.F"><span class="id" title="variable">F</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="TypeTheory.Categories.ess_and_gen_alg_cats.html#gen_alg_from_ess_alg.C"><span class="id" title="variable">C</span></a></span> <span class="inlinecode">—&gt;</span> <span class="inlinecode"><a class="idref" href="TypeTheory.Displayed_Cats.Constructions.html#Functor.D"><span class="id" title="variable">D</span></a></span> <span class="inlinecode"></span>, <i>a comprehension structure for <span class="inlinecode"><a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#p"><span class="id" title="variable">p</span></a></span> 
    relative to <span class="inlinecode"><a class="idref" href="TypeTheory.Categories.category_of_elements.html#category_of_elements_covariant.F"><span class="id" title="variable">F</span></a></span></i> is an operation providing all pullbacks of <span class="inlinecode"><a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#p"><span class="id" title="variable">p</span></a></span> 
    along morphisms from objects of the form <span class="inlinecode"><a class="idref" href="TypeTheory.Categories.category_of_elements.html#category_of_elements_covariant.F"><span class="id" title="variable">F</span></a></span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Cats_Standalone.html#fix_cat_obj_ext.X"><span class="id" title="variable">X</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="Relative_Comprehension"><span class="id" title="section">Relative_Comprehension</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="definition">precategory</span>} (<span class="id" title="var">J</span> : <span class="id" title="definition">functor</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D"><span class="id" title="variable">D</span></a>).<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">U</span> <span class="id" title="var">tU</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.D"><span class="id" title="variable">D</span></a>} (<span class="id" title="var">p</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#tU"><span class="id" title="variable">tU</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#U"><span class="id" title="variable">U</span></a><span class="id" title="notation">⟧</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fpullback_data"><span class="id" title="definition">fpullback_data</span></a> {<span class="id" title="var">X</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.C"><span class="id" title="variable">C</span></a>} (<span class="id" title="var">f</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.U"><span class="id" title="variable">U</span></a><span class="id" title="notation">⟧</span>) : <span class="id" title="definition">UU</span> <br/>
&nbsp;&nbsp;:= <span class="id" title="notation">∑</span> <span class="id" title="var">Xf</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.C"><span class="id" title="variable">C</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.C"><span class="id" title="variable">C</span></a><span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Xf"><span class="id" title="variable">Xf</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">⟧</span> <span class="id" title="notation">×</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Xf"><span class="id" title="variable">Xf</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.tU"><span class="id" title="variable">tU</span></a><span class="id" title="notation">⟧</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fpb_obj"><span class="id" title="definition">fpb_obj</span></a>  {<span class="id" title="var">X</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.C"><span class="id" title="variable">C</span></a>} {<span class="id" title="var">f</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.U"><span class="id" title="variable">U</span></a><span class="id" title="notation">⟧</span>} (<span class="id" title="var">T</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback_data"><span class="id" title="definition">fpullback_data</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#f"><span class="id" title="variable">f</span></a>) : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.C"><span class="id" title="variable">C</span></a> := <span class="id" title="projection">pr1</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="fp"><span class="id" title="definition">fp</span></a> {<span class="id" title="var">X</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.C"><span class="id" title="variable">C</span></a>} {<span class="id" title="var">f</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.U"><span class="id" title="variable">U</span></a><span class="id" title="notation">⟧</span>} (<span class="id" title="var">T</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback_data"><span class="id" title="definition">fpullback_data</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#f"><span class="id" title="variable">f</span></a>) : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.C"><span class="id" title="variable">C</span></a><span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpb_obj"><span class="id" title="definition">fpb_obj</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">⟧</span> := <span class="id" title="projection">pr1</span> (<span class="id" title="projection">pr2</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#T"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a name="fq"><span class="id" title="definition">fq</span></a> {<span class="id" title="var">X</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.C"><span class="id" title="variable">C</span></a>} {<span class="id" title="var">f</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.U"><span class="id" title="variable">U</span></a><span class="id" title="notation">⟧</span>} (<span class="id" title="var">T</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback_data"><span class="id" title="definition">fpullback_data</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#f"><span class="id" title="variable">f</span></a>) : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">⟦</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.J"><span class="id" title="variable">J</span></a> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpb_obj"><span class="id" title="definition">fpb_obj</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#T"><span class="id" title="variable">T</span></a>)<span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.tU"><span class="id" title="variable">tU</span></a><span class="id" title="notation">⟧</span> := <span class="id" title="projection">pr2</span> (<span class="id" title="projection">pr2</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#T"><span class="id" title="variable">T</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fpullback_prop"><span class="id" title="definition">fpullback_prop</span></a> {<span class="id" title="var">X</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.C"><span class="id" title="variable">C</span></a>} {<span class="id" title="var">f</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.U"><span class="id" title="variable">U</span></a><span class="id" title="notation">⟧</span>} (<span class="id" title="var">T</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback_data"><span class="id" title="definition">fpullback_data</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#f"><span class="id" title="variable">f</span></a>) : <span class="id" title="definition">UU</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#commutes_and_is_pullback"><span class="id" title="definition">commutes_and_is_pullback</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.p"><span class="id" title="variable">p</span></a> (<span class="id" title="notation">#</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.J"><span class="id" title="variable">J</span></a> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fp"><span class="id" title="definition">fp</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#T"><span class="id" title="variable">T</span></a>)) (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fq"><span class="id" title="definition">fq</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#T"><span class="id" title="variable">T</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fpullback"><span class="id" title="definition">fpullback</span></a> {<span class="id" title="var">X</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.C"><span class="id" title="variable">C</span></a>} (<span class="id" title="var">f</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.U"><span class="id" title="variable">U</span></a><span class="id" title="notation">⟧</span>) := <br/>
&nbsp;&nbsp;<span class="id" title="notation">∑</span> <span class="id" title="var">T</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback_data"><span class="id" title="definition">fpullback_data</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#f"><span class="id" title="variable">f</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback_prop"><span class="id" title="definition">fpullback_prop</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#T"><span class="id" title="variable">T</span></a>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">fpullback_data_from_fpullback</span> {<span class="id" title="var">X</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.C"><span class="id" title="variable">C</span></a>} {<span class="id" title="var">f</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.U"><span class="id" title="variable">U</span></a><span class="id" title="notation">⟧</span>} (<span class="id" title="var">T</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback"><span class="id" title="definition">fpullback</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#f"><span class="id" title="variable">f</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback_data"><span class="id" title="definition">fpullback_data</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#f"><span class="id" title="variable">f</span></a> := <span class="id" title="projection">pr1</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#T"><span class="id" title="variable">T</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="rel_universe_structure"><span class="id" title="definition">rel_universe_structure</span></a> := <span class="id" title="notation">∏</span> <span class="id" title="var">X</span> (<span class="id" title="var">f</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.U"><span class="id" title="variable">U</span></a><span class="id" title="notation">⟧</span><span class="id" title="notation">),</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback"><span class="id" title="definition">fpullback</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#f"><span class="id" title="variable">f</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_universe_relative_to"><span class="id" title="definition">is_universe_relative_to</span></a> : <span class="id" title="definition">UU</span><br/>
&nbsp;&nbsp;:= <span class="id" title="notation">∏</span> <span class="id" title="notation">(</span><span class="id" title="var">X</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">f</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">,</span> <span class="id" title="var">_</span> <span class="id" title="notation">⟧</span><span class="id" title="notation">),</span> <span class="id" title="notation">∥</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback"><span class="id" title="definition">fpullback</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="notation">∥</span> .<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="rel_universe_structure_data"><span class="id" title="definition">rel_universe_structure_data</span></a> := <span class="id" title="notation">∏</span> <span class="id" title="var">X</span> (<span class="id" title="var">f</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">⟦</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.U"><span class="id" title="variable">U</span></a><span class="id" title="notation">⟧</span><span class="id" title="notation">),</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback_data"><span class="id" title="definition">fpullback_data</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#f"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="rel_universe_structure_prop"><span class="id" title="definition">rel_universe_structure_prop</span></a> (<span class="id" title="var">Y</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#rel_universe_structure_data"><span class="id" title="definition">rel_universe_structure_data</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∏</span> <span class="id" title="var">X</span> <span class="id" title="var">f</span><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback_prop"><span class="id" title="definition">fpullback_prop</span></a> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#f"><span class="id" title="variable">f</span></a>).<br/>

<br/>
</div>

<div class="doc">
 An equivalent form of <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#rel_universe_structure"><span class="id" title="definition">rel_universe_structure</span></a></span>, separating its data and properties by interchanging ∑ and ∏ 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="weq_rel_universe_structure_"><span class="id" title="definition">weq_rel_universe_structure_</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#rel_universe_structure"><span class="id" title="definition">rel_universe_structure</span></a> <span class="id" title="notation">≃</span> <span class="id" title="notation">∑</span> <span class="id" title="var">Y</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#rel_universe_structure_data"><span class="id" title="definition">rel_universe_structure_data</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#rel_universe_structure_prop"><span class="id" title="definition">rel_universe_structure_prop</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Y"><span class="id" title="variable">Y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">weqcomp</span>. <span class="id" title="var">Focus</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">XR</span>:=@<span class="id" title="definition">weqforalltototal</span> (<span class="id" title="definition">ob</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.C"><span class="id" title="variable">C</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">XR</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> =&gt; <span class="id" title="notation">∏</span> <span class="id" title="var">f</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">⟦</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension.U"><span class="id" title="variable">U</span></a><span class="id" title="notation">⟧</span><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback_data"><span class="id" title="definition">fpullback_data</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#f"><span class="id" title="variable">f</span></a>)). <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">XR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">XR</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> <span class="id" title="var">pX</span> =&gt; <span class="id" title="notation">∏</span> <span class="id" title="var">A</span><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback_prop"><span class="id" title="definition">fpullback_prop</span></a>  (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#pX"><span class="id" title="variable">pX</span></a>  <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#A"><span class="id" title="variable">A</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">XR</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">weqonsecfibers</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">weqforalltototal</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension"><span class="id" title="section">Relative_Comprehension</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab51"></a><h1 class="section">Uniqueness of relative universe structures under some assumptions</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="Relative_Comprehension_Lemmas"><span class="id" title="section">Relative_Comprehension_Lemmas</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span> : <span class="id" title="definition">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="definition">category</span>} (<span class="id" title="var">J</span> : <span class="id" title="definition">functor</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D"><span class="id" title="variable">D</span></a>).<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">U</span> <span class="id" title="var">tU</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.D"><span class="id" title="variable">D</span></a>} (<span class="id" title="var">pp</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#tU"><span class="id" title="variable">tU</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#U"><span class="id" title="variable">U</span></a><span class="id" title="notation">⟧</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="isaprop_fpullback_prop"><span class="id" title="lemma">isaprop_fpullback_prop</span></a> {<span class="id" title="var">X</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.C"><span class="id" title="variable">C</span></a>} {<span class="id" title="var">f</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.U"><span class="id" title="variable">U</span></a><span class="id" title="notation">⟧</span>} (<span class="id" title="var">T</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback_data"><span class="id" title="definition">fpullback_data</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#f"><span class="id" title="variable">f</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="definition">isaprop</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback_prop"><span class="id" title="definition">fpullback_prop</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.pp"><span class="id" title="variable">pp</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#T"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">isofhleveltotal2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="definition">homset_property</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">isaprop_isPullback</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="isaprop_fpullback"><span class="id" title="lemma">isaprop_fpullback</span></a> {<span class="id" title="var">X</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.C"><span class="id" title="variable">C</span></a>} (<span class="id" title="var">f</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.U"><span class="id" title="variable">U</span></a><span class="id" title="notation">⟧</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_c</span> : <span class="id" title="definition">is_univalent</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.C"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">HJ</span> : <span class="id" title="definition">fully_faithful</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.J"><span class="id" title="variable">J</span></a>) <br/>
&nbsp;&nbsp;: <span class="id" title="definition">isaprop</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback"><span class="id" title="definition">fpullback</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.pp"><span class="id" title="variable">pp</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">invproofirrelevance</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">subtypeEquality</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#isaprop_fpullback_prop"><span class="id" title="lemma">isaprop_fpullback_prop</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x'</span> <span class="id" title="var">H'</span>]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">m</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a'</span> <span class="id" title="var">m'</span>]. <span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> <span class="id" title="var">isP</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H'</span> <span class="id" title="var">isP'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<span class="id" title="lemma">total2_paths_f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback_prop"><span class="id" title="definition">fpullback_prop</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">T1</span> := <span class="id" title="definition">mk_Pullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">T2</span> := <span class="id" title="definition">mk_Pullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isP'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">i</span> := <span class="id" title="definition">iso_from_Pullback_to_Pullback</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>). <span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">i'</span> := <span class="id" title="definition">invmap</span> (<span class="id" title="definition">weq_ff_functor_on_iso</span> <span class="id" title="var">HJ</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span>) <span class="id" title="var">i</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">TT</span> := <span class="id" title="definition">isotoid</span> <span class="id" title="var">_</span> <span class="id" title="var">is_c</span> <span class="id" title="var">i'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">TT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">XT</span> := <span class="id" title="definition">transportf_dirprod</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a'</span> =&gt; <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.C"><span class="id" title="variable">C</span></a><span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#a'"><span class="id" title="variable">a'</span></a><span class="id" title="notation">,</span> <span class="id" title="var">X</span><span class="id" title="notation">⟧</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">a'</span> =&gt; <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#a'"><span class="id" title="variable">a'</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.tU"><span class="id" title="variable">tU</span></a><span class="id" title="notation">⟧</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> <span class="id" title="var">XT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">XT'</span> := <span class="id" title="var">XT</span> (<span class="id" title="constructor">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">m</span> : <span class="id" title="notation">∑</span> <span class="id" title="var">a</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.C"><span class="id" title="variable">C</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">⟦</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#a"><span class="id" title="variable">a</span></a><span class="id" title="notation">,</span> <span class="id" title="var">X</span> <span class="id" title="notation">⟧</span> <span class="id" title="notation">×</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">⟦</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#a"><span class="id" title="variable">a</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.tU"><span class="id" title="variable">tU</span></a> <span class="id" title="notation">⟧</span> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="constructor">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a'</span> <span class="id" title="var">m'</span> : <span class="id" title="notation">∑</span> <span class="id" title="var">a</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.C"><span class="id" title="variable">C</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">⟦</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#a"><span class="id" title="variable">a</span></a><span class="id" title="notation">,</span> <span class="id" title="var">X</span> <span class="id" title="notation">⟧</span> <span class="id" title="notation">×</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">⟦</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#a"><span class="id" title="variable">a</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.tU"><span class="id" title="variable">tU</span></a> <span class="id" title="notation">⟧</span> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> | [ |- <span class="id" title="definition">transportf</span> <span class="id" title="var">_</span> ?<span class="id" title="var">e</span> <span class="id" title="var">_</span> <span class="id" title="notation">=</span> <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">set</span> (<span class="id" title="var">TT</span> := <span class="id" title="var">e</span>) <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">XT'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p'</span> <span class="id" title="var">q'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">pathsdirprod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <span class="id" title="var">TT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">transportf_isotoid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">precomp_with</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">from_Pullback_to_Pullback</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="definition">invmaponpathsweq</span> (<span class="id" title="definition">weq_from_fully_faithful</span> <span class="id" title="var">HJ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">T</span>:= <span class="id" title="definition">homotweqinvweq</span> (<span class="id" title="definition">weq_from_fully_faithful</span> <span class="id" title="var">HJ</span> <span class="id" title="var">a'</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">functor_comp</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">T</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">XT'</span> <span class="id" title="var">XT</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">TT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">X1</span>:= <span class="id" title="lemma">PullbackArrow_PullbackPr1</span> (<span class="id" title="definition">mk_Pullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isP</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <span class="id" title="var">TT</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">TT</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">XT'</span> <span class="id" title="var">XT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |[|- <span class="id" title="definition">transportf</span> ?<span class="id" title="var">r</span>  <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="notation">=</span> <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">set</span> (<span class="id" title="var">P</span>:=<span class="id" title="var">r</span>) <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#transportf_isotoid_functor"><span class="id" title="lemma">transportf_isotoid_functor</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">precomp_with</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">XX</span>:=<span class="id" title="definition">homotweqinvweq</span> (<span class="id" title="definition">weq_from_fully_faithful</span> <span class="id" title="var">HJ</span> <span class="id" title="var">a'</span> <span class="id" title="var">a</span>  )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">XX</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">XX</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">X1</span>:= <span class="id" title="lemma">PullbackArrow_PullbackPr2</span> (<span class="id" title="definition">mk_Pullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isP</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="isaprop_rel_universe_structure"><span class="id" title="lemma">isaprop_rel_universe_structure</span></a>  (<span class="id" title="var">is_c</span> : <span class="id" title="definition">is_univalent</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.C"><span class="id" title="variable">C</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">HJ</span> : <span class="id" title="definition">fully_faithful</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.J"><span class="id" title="variable">J</span></a>) : <span class="id" title="definition">isaprop</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#rel_universe_structure"><span class="id" title="definition">rel_universe_structure</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas.pp"><span class="id" title="variable">pp</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">apply</span> <span class="id" title="lemma">impred</span>; <span class="id" title="tactic">intro</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#isaprop_fpullback"><span class="id" title="lemma">isaprop_fpullback</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Relative_Comprehension_Lemmas"><span class="id" title="section">Relative_Comprehension_Lemmas</span></a>.<br/>

<br/>
</div>

<div class="doc">
 Relative universes 
<div class="paragraph"> </div>

 A <i>universe relative to a functor</i> is just a map in the target category, 
    equipped with a relative comprehension structure. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="relative_universe"><span class="id" title="definition">relative_universe</span></a> {<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="definition">precategory</span>} (<span class="id" title="var">J</span> : <span class="id" title="definition">functor</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D"><span class="id" title="variable">D</span></a>) : <span class="id" title="definition">UU</span><br/>
&nbsp;&nbsp;:= <span class="id" title="notation">∑</span> <span class="id" title="var">X</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#mor_total"><span class="id" title="definition">mor_total</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D"><span class="id" title="variable">D</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#rel_universe_structure"><span class="id" title="definition">rel_universe_structure</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="weak_relative_universe"><span class="id" title="definition">weak_relative_universe</span></a> {<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="definition">precategory</span>} (<span class="id" title="var">J</span> : <span class="id" title="definition">functor</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D"><span class="id" title="variable">D</span></a>) : <span class="id" title="definition">UU</span><br/>
&nbsp;&nbsp;:= <span class="id" title="notation">∑</span> <span class="id" title="var">X</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#mor_total"><span class="id" title="definition">mor_total</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D"><span class="id" title="variable">D</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#is_universe_relative_to"><span class="id" title="definition">is_universe_relative_to</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab52"></a><h2 class="section">Forgetful function from relative universes to relative weak universes</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="weak_from_relative_universe"><span class="id" title="definition">weak_from_relative_universe</span></a> {<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="definition">precategory</span>} (<span class="id" title="var">J</span> : <span class="id" title="definition">functor</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D"><span class="id" title="variable">D</span></a>) <br/>
&nbsp;&nbsp;: <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#relative_universe"><span class="id" title="definition">relative_universe</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#J"><span class="id" title="variable">J</span></a> <span class="id" title="notation">→</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#weak_relative_universe"><span class="id" title="definition">weak_relative_universe</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#J"><span class="id" title="variable">J</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="definition">bandfmap</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="definition">idfun</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">Γ</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">hinhpr</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="weq_relative_universe_weak_relative_universe"><span class="id" title="lemma">weq_relative_universe_weak_relative_universe</span></a> {<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="definition">category</span>} (<span class="id" title="var">J</span> : <span class="id" title="definition">functor</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D"><span class="id" title="variable">D</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Ccat</span> : <span class="id" title="definition">is_univalent</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">J_ff</span> : <span class="id" title="definition">fully_faithful</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#J"><span class="id" title="variable">J</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#relative_universe"><span class="id" title="definition">relative_universe</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#J"><span class="id" title="variable">J</span></a> <span class="id" title="notation">≃</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#weak_relative_universe"><span class="id" title="definition">weak_relative_universe</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#J"><span class="id" title="variable">J</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">weqfibtototal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">weqonsecfibers</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">weqonsecfibers</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#truncation_weq"><span class="id" title="definition">truncation_weq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#isaprop_fpullback"><span class="id" title="lemma">isaprop_fpullback</span></a> <span class="id" title="var">J</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ccat</span> <span class="id" title="var">J_ff</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Goal</span> <span class="id" title="notation">∏</span> <span class="id" title="notation">(</span><span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="definition">category</span>) (<span class="id" title="var">J</span> : <span class="id" title="definition">functor</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D"><span class="id" title="variable">D</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Ccat</span> : <span class="id" title="definition">is_univalent</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">J_ff</span> : <span class="id" title="definition">fully_faithful</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#J"><span class="id" title="variable">J</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">X</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#relative_universe"><span class="id" title="definition">relative_universe</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#J"><span class="id" title="variable">J</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#weak_from_relative_universe"><span class="id" title="definition">weak_from_relative_universe</span></a> <span class="id" title="var">_</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">=</span> <br/>
&nbsp;&nbsp;<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#weq_relative_universe_weak_relative_universe"><span class="id" title="lemma">weq_relative_universe_weak_relative_universe</span></a> <span class="id" title="var">_</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Ccat"><span class="id" title="variable">Ccat</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#J_ff"><span class="id" title="variable">J_ff</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="abbreviation">idpath</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab53"></a><h1 class="section">Transfer of a relative universe</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="Rel_Univ_Structure_Transfer"><span class="id" title="section">Rel_Univ_Structure_Transfer</span></a>.<br/>

<br/>
</div>

<div class="doc">
We give two sets of conditions under which a relative universe for one functor 
    can be transferred to one for another functor. 
    In each case, we start by assuming a commutative (up to iso) square of functors, 
    in which the right-hand functor <i>S</i> preserves pullbacks. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span> : <span class="id" title="definition">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="definition">category</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">J</span> : <span class="id" title="definition">functor</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D"><span class="id" title="variable">D</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">RUJ</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#relative_universe"><span class="id" title="definition">relative_universe</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#J"><span class="id" title="variable">J</span></a>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C'</span> : <span class="id" title="definition">precategory</span>} {<span class="id" title="var">D'</span> : <span class="id" title="definition">category</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">J'</span> : <span class="id" title="definition">functor</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C'"><span class="id" title="variable">C'</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D'"><span class="id" title="variable">D'</span></a>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">R</span> : <span class="id" title="definition">functor</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C'"><span class="id" title="variable">C'</span></a>) (<span class="id" title="var">S</span> : <span class="id" title="definition">functor</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D'"><span class="id" title="variable">D'</span></a>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">α</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#189c37af092953abce9e8a9108bf32e6"><span class="id" title="notation">[</span></a><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#189c37af092953abce9e8a9108bf32e6"><span class="id" title="notation">,</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D'"><span class="id" title="variable">D'</span></a><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#189c37af092953abce9e8a9108bf32e6"><span class="id" title="notation">]</span></a> <span class="id" title="notation">⟦</span><span class="id" title="definition">functor_composite</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#S"><span class="id" title="variable">S</span></a> <span class="id" title="notation">,</span> <span class="id" title="definition">functor_composite</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#J'"><span class="id" title="variable">J'</span></a><span class="id" title="notation">⟧</span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_iso_α</span> : <span class="id" title="definition">is_iso</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S_pb</span> : <span class="id" title="definition">maps_pb_squares_to_pb_squares</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#S"><span class="id" title="variable">S</span></a>).<br/>

<br/>
</div>

<div class="doc">
On top of this, we then assume either 
<ul class="doclist">
<li> the assumptions that <span class="inlinecode"><a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#R"><span class="id" title="variable">R</span></a></span> is split essentially surjective and <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#S"><span class="id" title="variable">S</span></a></span> split full; or else 

</li>
<li> that <span class="inlinecode"><a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#R"><span class="id" title="variable">R</span></a></span> is essentially surjective and <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#S"><span class="id" title="variable">S</span></a></span> full, plus that <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#J"><span class="id" title="variable">J</span></a></span> is fully faithful 
     and <span class="inlinecode"><a class="idref" href="TypeTheory.Displayed_Cats.Examples.html#cartesian_product.C'"><span class="id" title="variable">C'</span></a></span> saturated.  
     These last two assumptions imply uniqueness of the new comprehension structure, 
     and hence allow getting chosen inverses out of the (non-split) 
     surjectivity assumptions. 

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Let</span> <a name="299d310a8496565a1beb59252fbd3e3b"><span class="id" title="variable">αiso</span></a> := <span class="id" title="definition">isopair</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#37b5553439e183b4e71ad21bf388345f"><span class="id" title="variable">α</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fb562e75423e3728ebeb42edfacb6932"><span class="id" title="variable">is_iso_α</span></a>.<br/>
<span class="id" title="keyword">Let</span> <a name="4acbdd2565cf6fe9a7df37e5c2bb0b5c"><span class="id" title="variable">α'</span></a> := <span class="id" title="definition">inv_from_iso</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#299d310a8496565a1beb59252fbd3e3b"><span class="id" title="variable">αiso</span></a>.<br/>
<span class="id" title="keyword">Let</span> <a name="0628da48c012deb8bd20cd941be28851"><span class="id" title="variable">α'_α</span></a> := <span class="id" title="definition">nat_trans_eq_pointwise</span> (<span class="id" title="definition">iso_after_iso_inv</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#299d310a8496565a1beb59252fbd3e3b"><span class="id" title="variable">αiso</span></a>).<br/>
<span class="id" title="keyword">Let</span> <a name="fe8008aa0422e90e4fae3c8b86e68817"><span class="id" title="variable">α_α'</span></a> := <span class="id" title="definition">nat_trans_eq_pointwise</span> (<span class="id" title="definition">iso_inv_after_iso</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#299d310a8496565a1beb59252fbd3e3b"><span class="id" title="variable">αiso</span></a>).<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a name="4cbd247bd6c4b2a6c1d78ce25aac0cab"><span class="id" title="definition">α_iso</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span>, <span class="id" title="definition">is_iso</span> (<span class="id" title="projection">pr1</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#37b5553439e183b4e71ad21bf388345f"><span class="id" title="variable">α</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">is_functor_iso_pointwise_if_iso</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a name="044c8c2f0651aa4bc4d498910b2c367a"><span class="id" title="definition">α'_iso</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span>, <span class="id" title="definition">is_iso</span> (<span class="id" title="projection">pr1</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#4acbdd2565cf6fe9a7df37e5c2bb0b5c"><span class="id" title="variable">α'</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">is_functor_iso_pointwise_if_iso</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">is_iso_inv_from_iso</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a name="tU"><span class="id" title="abbreviation">tU</span></a> := (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#source"><span class="id" title="definition">source</span></a> (<span class="id" title="projection">pr1</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.RUJ"><span class="id" title="variable">RUJ</span></a>)).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a name="U"><span class="id" title="abbreviation">U</span></a> :=  (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#target"><span class="id" title="definition">target</span></a> (<span class="id" title="projection">pr1</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.RUJ"><span class="id" title="variable">RUJ</span></a>)).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a name="pp"><span class="id" title="abbreviation">pp</span></a> := (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#morphism_from_total"><span class="id" title="definition">morphism_from_total</span></a> (<span class="id" title="projection">pr1</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.RUJ"><span class="id" title="variable">RUJ</span></a>)).<br/>

<br/>
</div>

<div class="doc">
<a name="lab54"></a><h2 class="section">Transfer along split and split-full functors</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="rel_universe_structure_induced_with_ess_split"><span class="id" title="definition">rel_universe_structure_induced_with_ess_split</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">R_es</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#split_ess_surj"><span class="id" title="definition">split_ess_surj</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.R"><span class="id" title="variable">R</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S_sf</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#split_full"><span class="id" title="definition">split_full</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a>)<br/>
&nbsp;&nbsp;:  <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#rel_universe_structure"><span class="id" title="definition">rel_universe_structure</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.J'"><span class="id" title="variable">J'</span></a> (<span class="id" title="notation">#</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a> (<span class="id" title="projection">pr1</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.RUJ"><span class="id" title="variable">RUJ</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> <span class="id" title="var">α</span>, <span class="id" title="var">α'</span>, <span class="id" title="var">α'_α</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X'</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xi</span> := <span class="id" title="var">R_es</span> <span class="id" title="var">X'</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">Xi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">X</span> <span class="id" title="var">i</span>]; <span class="id" title="tactic">clear</span> <span class="id" title="var">R_es</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">f'</span> := (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#37b5553439e183b4e71ad21bf388345f"><span class="id" title="variable">α</span></a> <span class="id" title="var">X</span> <span class="id" title="notation">;;</span> <span class="id" title="notation">#</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.J'"><span class="id" title="variable">J'</span></a> <span class="id" title="var">i</span> <span class="id" title="notation">;;</span> <span class="id" title="var">g</span>) : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.D'"><span class="id" title="variable">D'</span></a> <span class="id" title="notation">⟦</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.J"><span class="id" title="variable">J</span></a> <span class="id" title="var">X</span>)<span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#U"><span class="id" title="abbreviation">U</span></a> <span class="id" title="notation">⟧</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">S_sf</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">f</span> <span class="id" title="var">e_Sf_f'</span>]; <span class="id" title="tactic">clear</span> <span class="id" title="var">S_sf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xf</span> :=  (<span class="id" title="projection">pr2</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.RUJ"><span class="id" title="variable">RUJ</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">f</span>); <span class="id" title="var">clearbody</span> <span class="id" title="var">Xf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Xf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> <span class="id" title="var">A</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Xf</span> [<span class="id" title="var">p</span> <span class="id" title="var">q</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span> <span class="id" title="var">isPb</span>]. <span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> <span class="id" title="var">e</span>, <span class="id" title="var">isPb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Sfp</span> := <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S_pb"><span class="id" title="variable">S_pb</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isPb</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">S_pb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">HSfp</span> := <span class="id" title="definition">functor_on_square</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.D"><span class="id" title="variable">D</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.D'"><span class="id" title="variable">D'</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">in</span> *; <span class="id" title="var">clearbody</span> <span class="id" title="var">HSfp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<span class="id" title="constructor">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.R"><span class="id" title="variable">R</span></a> <span class="id" title="var">Xf</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="notation">#</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.R"><span class="id" title="variable">R</span></a> <span class="id" title="var">p</span> <span class="id" title="notation">;;</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#4acbdd2565cf6fe9a7df37e5c2bb0b5c"><span class="id" title="variable">α'</span></a> <span class="id" title="var">Xf</span> <span class="id" title="notation">;;</span> <span class="id" title="notation">#</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback_prop"><span class="id" title="definition">fpullback_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#commutes_and_is_pullback_transfer_iso"><span class="id" title="lemma">commutes_and_is_pullback_transfer_iso</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Sfp</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="definition">identity_iso</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="definition">iso_comp</span> <span class="id" title="var">_</span> (<span class="id" title="definition">functor_on_iso</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.J'"><span class="id" title="variable">J'</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#37b5553439e183b4e71ad21bf388345f"><span class="id" title="variable">α</span></a> <span class="id" title="var">_</span>); <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#4cbd247bd6c4b2a6c1d78ce25aac0cab"><span class="id" title="definition">α_iso</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="definition">identity_iso</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#37b5553439e183b4e71ad21bf388345f"><span class="id" title="variable">α</span></a> <span class="id" title="var">_</span>); <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#4cbd247bd6c4b2a6c1d78ce25aac0cab"><span class="id" title="definition">α_iso</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">e_Sf_f'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#maponpaths_2"><span class="id" title="definition">maponpaths_2</span></a>, (<span class="id" title="definition">nat_trans_ax</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#37b5553439e183b4e71ad21bf388345f"><span class="id" title="variable">α</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="definition">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>. <span class="id" title="tactic">eapply</span> @<span class="id" title="definition">pathscomp0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#maponpaths_2"><span class="id" title="definition">maponpaths_2</span></a>, <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fe8008aa0422e90e4fae3c8b86e68817"><span class="id" title="variable">α_α'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">id_left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="transfer_of_rel_univ_with_ess_split"><span class="id" title="definition">transfer_of_rel_univ_with_ess_split</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">R_es</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#split_ess_surj"><span class="id" title="definition">split_ess_surj</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.R"><span class="id" title="variable">R</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S_sf</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#split_full"><span class="id" title="definition">split_full</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#relative_universe"><span class="id" title="definition">relative_universe</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.J'"><span class="id" title="variable">J'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#morphism_as_total"><span class="id" title="definition">morphism_as_total</span></a> (<span class="id" title="notation">#</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#pp"><span class="id" title="abbreviation">pp</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#rel_universe_structure_induced_with_ess_split"><span class="id" title="definition">rel_universe_structure_induced_with_ess_split</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab55"></a><h2 class="section">Transfer along surjective functors</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="fpullback_induced_with_ess_surj"><span class="id" title="definition">fpullback_induced_with_ess_surj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">R_es</span> : <span class="id" title="definition">essentially_surjective</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.R"><span class="id" title="variable">R</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">C'_sat</span> : <span class="id" title="definition">is_univalent</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.C'"><span class="id" title="variable">C'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">J'_ff</span> : <span class="id" title="definition">fully_faithful</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.J'"><span class="id" title="variable">J'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S_full</span> : <span class="id" title="definition">full</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">X'</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.C'"><span class="id" title="variable">C'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.D'"><span class="id" title="variable">D'</span></a> <span class="id" title="notation">⟦</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.J'"><span class="id" title="variable">J'</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X'"><span class="id" title="variable">X'</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#U"><span class="id" title="abbreviation">U</span></a> <span class="id" title="notation">⟧</span>)<br/>
: <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback"><span class="id" title="definition">fpullback</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.J'"><span class="id" title="variable">J'</span></a> (<span class="id" title="notation">#</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a> (<span class="id" title="projection">pr1</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.RUJ"><span class="id" title="variable">RUJ</span></a>)) <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#g"><span class="id" title="variable">g</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> <span class="id" title="var">α</span>, <span class="id" title="var">α'</span>, <span class="id" title="var">α'_α</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xi</span> := <span class="id" title="var">R_es</span> <span class="id" title="var">X'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">squash_to_prop</span> <span class="id" title="var">Xi</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#isaprop_fpullback"><span class="id" title="lemma">isaprop_fpullback</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.J'"><span class="id" title="variable">J'</span></a>); <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">X</span> <span class="id" title="var">i</span>]; <span class="id" title="tactic">clear</span> <span class="id" title="var">Xi</span> <span class="id" title="var">R_es</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">f'</span> := (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#37b5553439e183b4e71ad21bf388345f"><span class="id" title="variable">α</span></a> <span class="id" title="var">X</span> <span class="id" title="notation">;;</span> <span class="id" title="notation">#</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.J'"><span class="id" title="variable">J'</span></a> <span class="id" title="var">i</span> <span class="id" title="notation">;;</span> <span class="id" title="var">g</span>) : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.D'"><span class="id" title="variable">D'</span></a> <span class="id" title="notation">⟦</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.J"><span class="id" title="variable">J</span></a> <span class="id" title="var">X</span>)<span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#U"><span class="id" title="abbreviation">U</span></a> <span class="id" title="notation">⟧</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">fe</span> := <span class="id" title="var">S_full</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">squash_to_prop</span> <span class="id" title="var">fe</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#isaprop_fpullback"><span class="id" title="lemma">isaprop_fpullback</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.J'"><span class="id" title="variable">J'</span></a>); <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f</span> <span class="id" title="var">e_Sf_f'</span>]; <span class="id" title="tactic">clear</span> <span class="id" title="var">fe</span> <span class="id" title="var">S_full</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xf</span> :=  (<span class="id" title="projection">pr2</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.RUJ"><span class="id" title="variable">RUJ</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">f</span>); <span class="id" title="var">clearbody</span> <span class="id" title="var">Xf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Xf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> <span class="id" title="var">A</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Xf</span> [<span class="id" title="var">p</span> <span class="id" title="var">q</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span> <span class="id" title="var">isPb</span>]. <span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> <span class="id" title="var">e</span>, <span class="id" title="var">isPb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Sfp</span> := <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S_pb"><span class="id" title="variable">S_pb</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isPb</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">S_pb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">HSfp</span> := <span class="id" title="definition">functor_on_square</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.D"><span class="id" title="variable">D</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.D'"><span class="id" title="variable">D'</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">in</span> *; <span class="id" title="var">clearbody</span> <span class="id" title="var">HSfp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<span class="id" title="constructor">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.R"><span class="id" title="variable">R</span></a> <span class="id" title="var">Xf</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="notation">#</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.R"><span class="id" title="variable">R</span></a> <span class="id" title="var">p</span> <span class="id" title="notation">;;</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#4acbdd2565cf6fe9a7df37e5c2bb0b5c"><span class="id" title="variable">α'</span></a> <span class="id" title="var">Xf</span> <span class="id" title="notation">;;</span> <span class="id" title="notation">#</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback_prop"><span class="id" title="definition">fpullback_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#commutes_and_is_pullback_transfer_iso"><span class="id" title="lemma">commutes_and_is_pullback_transfer_iso</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Sfp</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="definition">identity_iso</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="definition">iso_comp</span> <span class="id" title="var">_</span> (<span class="id" title="definition">functor_on_iso</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.J'"><span class="id" title="variable">J'</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#37b5553439e183b4e71ad21bf388345f"><span class="id" title="variable">α</span></a> <span class="id" title="var">_</span>); <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#4cbd247bd6c4b2a6c1d78ce25aac0cab"><span class="id" title="definition">α_iso</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="definition">identity_iso</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#37b5553439e183b4e71ad21bf388345f"><span class="id" title="variable">α</span></a> <span class="id" title="var">_</span>); <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#4cbd247bd6c4b2a6c1d78ce25aac0cab"><span class="id" title="definition">α_iso</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">e_Sf_f'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#maponpaths_2"><span class="id" title="definition">maponpaths_2</span></a>, (<span class="id" title="definition">nat_trans_ax</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#37b5553439e183b4e71ad21bf388345f"><span class="id" title="variable">α</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="definition">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>. <span class="id" title="tactic">eapply</span> @<span class="id" title="definition">pathscomp0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#maponpaths_2"><span class="id" title="definition">maponpaths_2</span></a>, <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fe8008aa0422e90e4fae3c8b86e68817"><span class="id" title="variable">α_α'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">id_left</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="rel_universe_structure_induced_with_ess_surj"><span class="id" title="definition">rel_universe_structure_induced_with_ess_surj</span></a><br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">R_es</span> : <span class="id" title="definition">essentially_surjective</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.R"><span class="id" title="variable">R</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">C'_sat</span> : <span class="id" title="definition">is_univalent</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.C'"><span class="id" title="variable">C'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">J'_ff</span> : <span class="id" title="definition">fully_faithful</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.J'"><span class="id" title="variable">J'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S_full</span> : <span class="id" title="definition">full</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a>)<br/>
&nbsp;&nbsp;:  <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#rel_universe_structure"><span class="id" title="definition">rel_universe_structure</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.J'"><span class="id" title="variable">J'</span></a> (<span class="id" title="notation">#</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a> (<span class="id" title="projection">pr1</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.RUJ"><span class="id" title="variable">RUJ</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> <span class="id" title="var">α</span>, <span class="id" title="var">α'</span>, <span class="id" title="var">α'_α</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X'</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback_induced_with_ess_surj"><span class="id" title="definition">fpullback_induced_with_ess_surj</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="transfer_of_rel_univ_with_ess_surj"><span class="id" title="definition">transfer_of_rel_univ_with_ess_surj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">R_es</span> : <span class="id" title="definition">essentially_surjective</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.R"><span class="id" title="variable">R</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">C'_sat</span> : <span class="id" title="definition">is_univalent</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.C'"><span class="id" title="variable">C'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">J'_ff</span> : <span class="id" title="definition">fully_faithful</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.J'"><span class="id" title="variable">J'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S_full</span> : <span class="id" title="definition">full</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#relative_universe"><span class="id" title="definition">relative_universe</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.J'"><span class="id" title="variable">J'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#morphism_as_total"><span class="id" title="definition">morphism_as_total</span></a> (<span class="id" title="notation">#</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer.S"><span class="id" title="variable">S</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#pp"><span class="id" title="abbreviation">pp</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#rel_universe_structure_induced_with_ess_surj"><span class="id" title="definition">rel_universe_structure_induced_with_ess_surj</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Rel_Univ_Structure_Transfer"><span class="id" title="section">Rel_Univ_Structure_Transfer</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab56"></a><h2 class="section">Transfer of weak relative universes</h2>

<div class="paragraph"> </div>

 The next section literally copies a proof from the
    preceding section, with the exception of a truncation elimination
    in the middle of the proof.
    TODO: see if one can factor out a common lemma between the
          truncated lemma below and the untruncated lemma above.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="Is_universe_relative_to_Transfer"><span class="id" title="section">Is_universe_relative_to_Transfer</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span> : <span class="id" title="definition">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="definition">category</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">J</span> : <span class="id" title="definition">functor</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D"><span class="id" title="variable">D</span></a>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C'</span> : <span class="id" title="definition">precategory</span>} {<span class="id" title="var">D'</span> : <span class="id" title="definition">category</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">J'</span> : <span class="id" title="definition">functor</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C'"><span class="id" title="variable">C'</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D'"><span class="id" title="variable">D'</span></a>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">R</span> : <span class="id" title="definition">functor</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C'"><span class="id" title="variable">C'</span></a>) (<span class="id" title="var">S</span> : <span class="id" title="definition">functor</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D'"><span class="id" title="variable">D'</span></a>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">α</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#189c37af092953abce9e8a9108bf32e6"><span class="id" title="notation">[</span></a><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#189c37af092953abce9e8a9108bf32e6"><span class="id" title="notation">,</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#D'"><span class="id" title="variable">D'</span></a><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#189c37af092953abce9e8a9108bf32e6"><span class="id" title="notation">]</span></a> <span class="id" title="notation">⟦</span><span class="id" title="definition">functor_composite</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#S"><span class="id" title="variable">S</span></a> <span class="id" title="notation">,</span> <span class="id" title="definition">functor_composite</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#J'"><span class="id" title="variable">J'</span></a><span class="id" title="notation">⟧</span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_iso_α</span> : <span class="id" title="definition">is_iso</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#ab410a966ac148e9b78c65c6cdf301fd"><span class="id" title="variable">α</span></a>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S_pb</span> : <span class="id" title="definition">maps_pb_squares_to_pb_squares</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#S"><span class="id" title="variable">S</span></a>).<br/>

<br/>
<span class="id" title="keyword">Let</span> <a name="d2970b21df38bb1c11d5193f8d96c51b"><span class="id" title="variable">αiso</span></a> := <span class="id" title="definition">isopair</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#d17f084df36ac40433da8fe5f03efd70"><span class="id" title="variable">α</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#23aa52618d85e46431d2050f0a19c84d"><span class="id" title="variable">is_iso_α</span></a>.<br/>
<span class="id" title="keyword">Let</span> <a name="99cf13ad5d8a73e3a4fa6ed2922e5735"><span class="id" title="variable">α'</span></a> := <span class="id" title="definition">inv_from_iso</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#d2970b21df38bb1c11d5193f8d96c51b"><span class="id" title="variable">αiso</span></a>.<br/>
<span class="id" title="keyword">Let</span> <a name="abd00e8bfe3e34c51257dfdff7eda785"><span class="id" title="variable">α'_α</span></a> := <span class="id" title="definition">nat_trans_eq_pointwise</span> (<span class="id" title="definition">iso_after_iso_inv</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#d2970b21df38bb1c11d5193f8d96c51b"><span class="id" title="variable">αiso</span></a>).<br/>
<span class="id" title="keyword">Let</span> <a name="d9116c4b084c35fd41bbbd7cbc1cecaa"><span class="id" title="variable">α_α'</span></a> := <span class="id" title="definition">nat_trans_eq_pointwise</span> (<span class="id" title="definition">iso_inv_after_iso</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#d2970b21df38bb1c11d5193f8d96c51b"><span class="id" title="variable">αiso</span></a>).<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">R_es</span> : <span class="id" title="definition">essentially_surjective</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.R"><span class="id" title="variable">R</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">C'_sat</span> : <span class="id" title="definition">is_univalent</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.C'"><span class="id" title="variable">C'</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">J'_ff</span> : <span class="id" title="definition">fully_faithful</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.J'"><span class="id" title="variable">J'</span></a>)<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;(<span class="id" title="var">S_full</span> : <span class="id" title="definition">full</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Is_universe_relative_to_Transfer.fix_a_morphism"><span class="id" title="section">fix_a_morphism</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variables</span> (<a name="Is_universe_relative_to_Transfer.fix_a_morphism.U"><span class="id" title="variable">U</span></a> <a name="Is_universe_relative_to_Transfer.fix_a_morphism.tU"><span class="id" title="variable">tU</span></a> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D"><span class="id" title="variable">D</span></a>) (<a name="Is_universe_relative_to_Transfer.fix_a_morphism.pp"><span class="id" title="variable">pp</span></a> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#tU"><span class="id" title="variable">tU</span></a> <span class="id" title="notation">--&gt;</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#U"><span class="id" title="variable">U</span></a>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Is_universe_relative_to_Transfer.fix_a_morphism.map_on_is_universe_relativ_to"><span class="id" title="section">map_on_is_universe_relativ_to</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> <a name="Is_universe_relative_to_Transfer.fix_a_morphism.map_on_is_universe_relativ_to.is"><span class="id" title="variable">is</span></a> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#is_universe_relative_to"><span class="id" title="definition">is_universe_relative_to</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.fix_a_morphism.pp"><span class="id" title="variable">pp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="mere_fpullback_transfer"><span class="id" title="lemma">mere_fpullback_transfer</span></a> {<span class="id" title="var">X'</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.C'"><span class="id" title="variable">C'</span></a>} (<span class="id" title="var">g</span> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D'"><span class="id" title="variable">D'</span></a> <span class="id" title="notation">⟦</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.J'"><span class="id" title="variable">J'</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X'"><span class="id" title="variable">X'</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.fix_a_morphism.U"><span class="id" title="variable">U</span></a> <span class="id" title="notation">⟧</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">∥</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback"><span class="id" title="definition">fpullback</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.J'"><span class="id" title="variable">J'</span></a> (<span class="id" title="notation">#</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.fix_a_morphism.pp"><span class="id" title="variable">pp</span></a>) <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#g"><span class="id" title="variable">g</span></a> <span class="id" title="notation">∥</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> <span class="id" title="var">α</span>, <span class="id" title="var">α'</span>, <span class="id" title="var">α'_α</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xi</span> := <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.R_es"><span class="id" title="variable">R_es</span></a> <span class="id" title="var">X'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">squash_to_prop</span> <span class="id" title="var">Xi</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="definition">propproperty</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">X</span> <span class="id" title="var">i</span>]; <span class="id" title="tactic">clear</span> <span class="id" title="var">Xi</span> <span class="id" title="var">R_es</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">f'</span> := (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#d17f084df36ac40433da8fe5f03efd70"><span class="id" title="variable">α</span></a> <span class="id" title="var">X</span> <span class="id" title="notation">;;</span> <span class="id" title="notation">#</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.J'"><span class="id" title="variable">J'</span></a> <span class="id" title="var">i</span> <span class="id" title="notation">;;</span> <span class="id" title="var">g</span>) : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D'"><span class="id" title="variable">D'</span></a> <span class="id" title="notation">⟦</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.J"><span class="id" title="variable">J</span></a> <span class="id" title="var">X</span>)<span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.fix_a_morphism.U"><span class="id" title="variable">U</span></a> <span class="id" title="notation">⟧</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">fe</span> := <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S_full"><span class="id" title="variable">S_full</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">squash_to_prop</span> <span class="id" title="var">fe</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="definition">propproperty</span>. } <br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f</span> <span class="id" title="var">e_Sf_f'</span>]; <span class="id" title="tactic">clear</span> <span class="id" title="var">fe</span> <span class="id" title="var">S_full</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xf'</span> := <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.fix_a_morphism.map_on_is_universe_relativ_to.is"><span class="id" title="variable">is</span></a> <span class="id" title="var">_</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">squash_to_prop</span> <span class="id" title="var">Xf'</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="definition">propproperty</span>. } <br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Xf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Xf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> <span class="id" title="var">A</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Xf</span> [<span class="id" title="var">p</span> <span class="id" title="var">q</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span> <span class="id" title="var">isPb</span>]. <span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> <span class="id" title="var">e</span>, <span class="id" title="var">isPb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Sfp</span> := <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S_pb"><span class="id" title="variable">S_pb</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isPb</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">S_pb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">HSfp</span> := <span class="id" title="definition">functor_on_square</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D"><span class="id" title="variable">D</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D'"><span class="id" title="variable">D'</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">in</span> *; <span class="id" title="var">clearbody</span> <span class="id" title="var">HSfp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">hinhpr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<span class="id" title="constructor">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.R"><span class="id" title="variable">R</span></a> <span class="id" title="var">Xf</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="notation">#</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.R"><span class="id" title="variable">R</span></a> <span class="id" title="var">p</span> <span class="id" title="notation">;;</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#99cf13ad5d8a73e3a4fa6ed2922e5735"><span class="id" title="variable">α'</span></a> <span class="id" title="var">Xf</span> <span class="id" title="notation">;;</span> <span class="id" title="notation">#</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#fpullback_prop"><span class="id" title="definition">fpullback_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#commutes_and_is_pullback_transfer_iso"><span class="id" title="lemma">commutes_and_is_pullback_transfer_iso</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Sfp</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="definition">identity_iso</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="definition">iso_comp</span> <span class="id" title="var">_</span> (<span class="id" title="definition">functor_on_iso</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.J'"><span class="id" title="variable">J'</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#d17f084df36ac40433da8fe5f03efd70"><span class="id" title="variable">α</span></a> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#4cbd247bd6c4b2a6c1d78ce25aac0cab"><span class="id" title="definition">α_iso</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#23aa52618d85e46431d2050f0a19c84d"><span class="id" title="variable">is_iso_α</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="definition">identity_iso</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#d17f084df36ac40433da8fe5f03efd70"><span class="id" title="variable">α</span></a> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#4cbd247bd6c4b2a6c1d78ce25aac0cab"><span class="id" title="definition">α_iso</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#23aa52618d85e46431d2050f0a19c84d"><span class="id" title="variable">is_iso_α</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">e_Sf_f'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#maponpaths_2"><span class="id" title="definition">maponpaths_2</span></a>, (<span class="id" title="definition">nat_trans_ax</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#d17f084df36ac40433da8fe5f03efd70"><span class="id" title="variable">α</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="definition">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>. <span class="id" title="tactic">eapply</span> @<span class="id" title="definition">pathscomp0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#maponpaths_2"><span class="id" title="definition">maponpaths_2</span></a>, <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#d9116c4b084c35fd41bbbd7cbc1cecaa"><span class="id" title="variable">α_α'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">id_left</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="is_universe_transfer"><span class="id" title="lemma">is_universe_transfer</span></a> : <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#is_universe_relative_to"><span class="id" title="definition">is_universe_relative_to</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.J'"><span class="id" title="variable">J'</span></a> (<span class="id" title="notation">#</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.fix_a_morphism.pp"><span class="id" title="variable">pp</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X'</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#mere_fpullback_transfer"><span class="id" title="lemma">mere_fpullback_transfer</span></a> <span class="id" title="var">g</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.fix_a_morphism.map_on_is_universe_relativ_to"><span class="id" title="section">map_on_is_universe_relativ_to</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="f515133e5a8a68695ee8b853a896cdbc"><span class="id" title="definition">αpwiso</span></a> <span class="id" title="var">X</span> : <span class="id" title="definition">iso</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.J"><span class="id" title="variable">J</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a>)) (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.J'"><span class="id" title="variable">J'</span></a> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.R"><span class="id" title="variable">R</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a>))<br/>
&nbsp;&nbsp;:= <span class="id" title="definition">functor_iso_pointwise_if_iso</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#d17f084df36ac40433da8fe5f03efd70"><span class="id" title="variable">α</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#23aa52618d85e46431d2050f0a19c84d"><span class="id" title="variable">is_iso_α</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#X"><span class="id" title="variable">X</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="isweq_is_universe_transfer"><span class="id" title="definition">isweq_is_universe_transfer</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">R_full</span> : <span class="id" title="definition">full</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.R"><span class="id" title="variable">R</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S_faithful</span> : <span class="id" title="definition">faithful</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="definition">isweq</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#is_universe_transfer"><span class="id" title="lemma">is_universe_transfer</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">S_ff</span> := <span class="id" title="lemma">full_and_faithful_implies_fully_faithful</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S_full"><span class="id" title="variable">S_full</span></a><span class="id" title="notation">,,</span><span class="id" title="var">S_faithful</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="lemma">gradth</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">RX</span> := <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.R"><span class="id" title="variable">R</span></a> <span class="id" title="var">X</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">f'</span> := (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#99cf13ad5d8a73e3a4fa6ed2922e5735"><span class="id" title="variable">α'</span></a> : <span class="id" title="definition">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ) <span class="id" title="var">X</span> <span class="id" title="notation">;;</span> <span class="id" title="notation">#</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Pb_RX_f'</span> := <span class="id" title="var">H</span> <span class="id" title="var">RX</span> <span class="id" title="var">f'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">squash_to_prop</span> <span class="id" title="var">Pb_RX_f'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="definition">propproperty</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">T</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">X1</span> <span class="id" title="var">X2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">X'</span> [<span class="id" title="var">p'</span> <span class="id" title="var">q'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]. <span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">RX</span> <span class="id" title="keyword">in</span> *. <span class="id" title="tactic">clear</span> <span class="id" title="var">RX</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Pb_RX_f'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">squash_to_prop</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.R_es"><span class="id" title="variable">R_es</span></a> <span class="id" title="var">X'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="definition">propproperty</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Xf</span> <span class="id" title="var">i</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">squash_to_prop</span> (<span class="id" title="var">R_full</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">i</span> <span class="id" title="notation">·</span> <span class="id" title="var">p'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="definition">propproperty</span>. } <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">ip'</span> <span class="id" title="var">Hip'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">hinhpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">mkpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Xf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">ip'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">set</span> (<span class="id" title="var">hi</span> := (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#d17f084df36ac40433da8fe5f03efd70"><span class="id" title="variable">α</span></a> : <span class="id" title="definition">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ) <span class="id" title="var">Xf</span>). <span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">XR</span> := <span class="id" title="var">hi</span> <span class="id" title="notation">;;</span> <span class="id" title="definition">functor_on_iso</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.J'"><span class="id" title="variable">J'</span></a> <span class="id" title="var">i</span> <span class="id" title="notation">;;</span> <span class="id" title="var">q'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="definition">invmap</span> (<span class="id" title="definition">weq_from_fully_faithful</span> <span class="id" title="var">S_ff</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ) <span class="id" title="var">XR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="definition">invmaponpathsweq</span> (<span class="id" title="definition">weq_from_fully_faithful</span> <span class="id" title="var">S_ff</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="definition">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">functor_comp</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#maponpaths_2"><span class="id" title="definition">maponpaths_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="definition">homotweqinvweq</span> (<span class="id" title="definition">weq_from_fully_faithful</span> <span class="id" title="var">S_ff</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">f'</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">f'</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">f'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="definition">pathsinv0</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="definition">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#maponpaths_2"><span class="id" title="definition">maponpaths_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">pathsinv0</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="definition">assoc</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">iso_inv_to_left</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D'"><span class="id" title="variable">D'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#f515133e5a8a68695ee8b853a896cdbc"><span class="id" title="definition">αpwiso</span></a> <span class="id" title="var">Xf</span> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">precomp_with</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">XR</span> := <span class="id" title="definition">nat_trans_ax</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#99cf13ad5d8a73e3a4fa6ed2922e5735"><span class="id" title="variable">α'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="var">Focus</span> 2. <span class="id" title="tactic">apply</span> <span class="id" title="var">XR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#maponpaths_2"><span class="id" title="definition">maponpaths_2</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="definition">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hip'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">pathsinv0</span>, <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |[|- <span class="id" title="definition">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (?<span class="id" title="var">HH</span>)] =&gt; <span class="id" title="tactic">generalize</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="lemma">isPullback_preimage_square</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">S_ff</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="definition">homset_property</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |[|- <span class="id" title="definition">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (?<span class="id" title="var">HH</span>)] =&gt; <span class="id" title="tactic">generalize</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">XR</span> := <span class="id" title="definition">homotweqinvweq</span> (<span class="id" title="definition">weq_from_fully_faithful</span> <span class="id" title="var">S_ff</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.J"><span class="id" title="variable">J</span></a> <span class="id" title="var">Xf</span>) <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.fix_a_morphism.tU"><span class="id" title="variable">tU</span></a> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">XR</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">XR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">HH</span> <span class="id" title="var">XR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#isPullback_transfer_iso"><span class="id" title="lemma">isPullback_transfer_iso</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exact</span> (<span class="id" title="definition">identity_iso</span> <span class="id" title="var">_</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exact</span> (<span class="id" title="definition">iso_inv_from_iso</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#f515133e5a8a68695ee8b853a896cdbc"><span class="id" title="definition">αpwiso</span></a> <span class="id" title="var">_</span> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exact</span> (<span class="id" title="definition">identity_iso</span> <span class="id" title="var">_</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="definition">iso_comp</span> (<span class="id" title="definition">functor_on_iso</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.J'"><span class="id" title="variable">J'</span></a> (<span class="id" title="definition">iso_inv_from_iso</span> <span class="id" title="var">i</span>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">iso_inv_from_iso</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#f515133e5a8a68695ee8b853a896cdbc"><span class="id" title="definition">αpwiso</span></a> <span class="id" title="var">_</span> ))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">precomp_with</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">f'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="abbreviation">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_left</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="abbreviation">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">precomp_with</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">XR</span> := <span class="id" title="definition">nat_trans_ax</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#99cf13ad5d8a73e3a4fa6ed2922e5735"><span class="id" title="variable">α'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> <span class="id" title="var">XR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="var">Focus</span> 2. <span class="id" title="tactic">apply</span> <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">XR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#maponpaths_2"><span class="id" title="definition">maponpaths_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="definition">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="definition">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hip'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">iso_after_iso_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">precomp_with</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#maponpaths_2"><span class="id" title="definition">maponpaths_2</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">assoc4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#maponpaths_2"><span class="id" title="definition">maponpaths_2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#maponpaths_2"><span class="id" title="definition">maponpaths_2</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="definition">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#abd00e8bfe3e34c51257dfdff7eda785"><span class="id" title="variable">α'_α</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="definition">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">iso_after_iso_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">functor_id</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">id_left</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">proofirrelevance</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">apply</span> <span class="id" title="lemma">impred</span>; <span class="id" title="tactic">intro</span>); <span class="id" title="tactic">apply</span> <span class="id" title="definition">propproperty</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">proofirrelevance</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">apply</span> <span class="id" title="lemma">impred</span>; <span class="id" title="tactic">intro</span>); <span class="id" title="tactic">apply</span> <span class="id" title="definition">propproperty</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.fix_a_morphism"><span class="id" title="section">fix_a_morphism</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="weak_relative_universe_transfer"><span class="id" title="definition">weak_relative_universe_transfer</span></a> : <br/>
&nbsp;&nbsp;<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#weak_relative_universe"><span class="id" title="definition">weak_relative_universe</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.J"><span class="id" title="variable">J</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6.0/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#weak_relative_universe"><span class="id" title="definition">weak_relative_universe</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.J'"><span class="id" title="variable">J'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="definition">bandfmap</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#functor_on_mor_total"><span class="id" title="definition">functor_on_mor_total</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">pp</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#is_universe_transfer"><span class="id" title="lemma">is_universe_transfer</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="isweq_weak_relative_universe_transfer"><span class="id" title="definition">isweq_weak_relative_universe_transfer</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">R_full</span> : <span class="id" title="definition">full</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.R"><span class="id" title="variable">R</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isD</span> : <span class="id" title="definition">is_univalent</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D"><span class="id" title="variable">D</span></a>) (<span class="id" title="var">isD'</span> : <span class="id" title="definition">is_univalent</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D'"><span class="id" title="variable">D'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">T</span> : <span class="id" title="definition">functor</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D'"><span class="id" title="variable">D'</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D"><span class="id" title="variable">D</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eta</span> : <span class="id" title="definition">iso</span> (<span class="id" title="var">C</span>:=<span class="id" title="notation">[</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">,</span> <span class="id" title="projection">pr2</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">]</span>) (<span class="id" title="definition">functor_identity</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D"><span class="id" title="variable">D</span></a>) (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a> <span class="id" title="notation">∙</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#T"><span class="id" title="variable">T</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eps</span> : <span class="id" title="definition">iso</span> (<span class="id" title="var">C</span>:=<span class="id" title="notation">[</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D'"><span class="id" title="variable">D'</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D'"><span class="id" title="variable">D'</span></a><span class="id" title="notation">,</span> <span class="id" title="projection">pr2</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D'"><span class="id" title="variable">D'</span></a><span class="id" title="notation">]</span>) (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">∙</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a>) (<span class="id" title="definition">functor_identity</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D'"><span class="id" title="variable">D'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S_faithful</span> : <span class="id" title="definition">faithful</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a>) <br/>
&nbsp;&nbsp;: <span class="id" title="definition">isweq</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#weak_relative_universe_transfer"><span class="id" title="definition">weak_relative_universe_transfer</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#isweqbandfmap_var"><span class="id" title="definition">isweqbandfmap_var</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#isweq_equivalence_on_mor_total"><span class="id" title="definition">isweq_equivalence_on_mor_total</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">isD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">isD'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">eta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">eps</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">pp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#isweq_is_universe_transfer"><span class="id" title="definition">isweq_is_universe_transfer</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">R_full</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">S_faithful</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="weq_weak_relative_universe_transfer"><span class="id" title="definition">weq_weak_relative_universe_transfer</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">R_full</span> : <span class="id" title="definition">full</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.R"><span class="id" title="variable">R</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isD</span> : <span class="id" title="definition">is_univalent</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D"><span class="id" title="variable">D</span></a>) (<span class="id" title="var">isD'</span> : <span class="id" title="definition">is_univalent</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D'"><span class="id" title="variable">D'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">T</span> : <span class="id" title="definition">functor</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D'"><span class="id" title="variable">D'</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D"><span class="id" title="variable">D</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eta</span> : <span class="id" title="definition">iso</span> (<span class="id" title="var">C</span>:=<span class="id" title="notation">[</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">,</span> <span class="id" title="projection">pr2</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">]</span>) (<span class="id" title="definition">functor_identity</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D"><span class="id" title="variable">D</span></a>) (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a> <span class="id" title="notation">∙</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#T"><span class="id" title="variable">T</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eps</span> : <span class="id" title="definition">iso</span> (<span class="id" title="var">C</span>:=<span class="id" title="notation">[</span><a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D'"><span class="id" title="variable">D'</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D'"><span class="id" title="variable">D'</span></a><span class="id" title="notation">,</span> <span class="id" title="projection">pr2</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D'"><span class="id" title="variable">D'</span></a><span class="id" title="notation">]</span>) (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">∙</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a>) (<span class="id" title="definition">functor_identity</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.D'"><span class="id" title="variable">D'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S_ff</span> : <span class="id" title="definition">fully_faithful</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.S"><span class="id" title="variable">S</span></a>)<br/>
: <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#weak_relative_universe"><span class="id" title="definition">weak_relative_universe</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.J"><span class="id" title="variable">J</span></a> <span class="id" title="notation">≃</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#weak_relative_universe"><span class="id" title="definition">weak_relative_universe</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer.J'"><span class="id" title="variable">J'</span></a><br/>
:= <span class="id" title="definition">weqpair</span> <span class="id" title="var">_</span> (<a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#isweq_weak_relative_universe_transfer"><span class="id" title="definition">isweq_weak_relative_universe_transfer</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#R_full"><span class="id" title="variable">R_full</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#isD"><span class="id" title="variable">isD</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#isD'"><span class="id" title="variable">isD'</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#eta"><span class="id" title="variable">eta</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#eps"><span class="id" title="variable">eps</span></a> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#S_ff"><span class="id" title="variable">S_ff</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="TypeTheory.ALV1.RelativeUniverses.html#Is_universe_relative_to_Transfer"><span class="id" title="section">Is_universe_relative_to_Transfer</span></a>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>