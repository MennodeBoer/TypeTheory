<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>TypeTheory.ALV1.CwF_Defs_Equiv</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library TypeTheory.ALV1.CwF_Defs_Equiv</h1>

<div class="code">
</div>

<div class="doc">
  <span class="inlinecode"><span class="id" title="library">TypeTheory.ALV1.CwF_Defs_Equiv</span></span>

<div class="paragraph"> </div>

  Part of the <span class="inlinecode"><span class="id" title="var">TypeTheory</span></span> library (Ahrens, Lumsdaine, Voevodsky, 2015–present).

<div class="paragraph"> </div>


<div class="paragraph"> </div>

  The main result of this file is an equivalence <span class="inlinecode"><span class="id" title="var">weq_cwf'_cwf_structure</span></span>
  between the canonical definition of CwF-structures on a precategory <span class="inlinecode"><a class="idref" href="TypeTheory.Categories.ess_and_gen_alg_cats.html#gen_alg_from_ess_alg.C"><span class="id" title="variable">C</span></a></span> 
  and the regrouped definition based on object-extension structures.

<div class="paragraph"> </div>

  A <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#cwf'_structure"><span class="id" title="definition">cwf'_structure</span></a></span> on <i>C</i> is
<ul class="doclist">
<li> a triple (Ty, (◂ + π)) (the object-extension structure)

</li>
<li> a triple (Tm, pp, Q) where
<ul class="doclist">
<li> Tm is a presheaf,

</li>
<li> pp is a morphism of presheaves Tm -&gt; Ty

</li>
<li> te is a term, for any Γ : C and A : Ty(Γ),
        te A : Tm (Γ◂A)

</li>
</ul>

</li>
<li> such (te A) has the desired type, and square are pbs

</li>
</ul>

<div class="paragraph"> </div>

  Parentheses are
    ( (Ty, (◂ + π)), ( (Tm,(pp,Q)), props) )

<div class="paragraph"> </div>

  Meanwhile, a <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_def.html#cwf_structure"><span class="id" title="definition">cwf_structure</span></a></span> on <i>C</i> consists of a morphism pp : Ty --&gt; Tm of presheaves together with, for each Γ:C and A : Ty Γ, a <i>representation</i> of the fiber of Tm over A, which we will inspect in more detail below.

<div class="paragraph"> </div>

  So the three differences, in the order we will tackle them, are:

<div class="paragraph"> </div>

<ul class="doclist">
<li> ordering: moving the morphism <i>pp</i> to the front;

</li>
<li> distributing ∏ over ∑: a single quantification over Γ, A on the outside, vs. quantifying within each component;

</li>
<li> re-association of the components within the fiber-representation

</li>
</ul>

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">UniMath.Foundations.Sets</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="TypeTheory.Auxiliary.CategoryTheoryImports.html#"><span class="id" title="library">TypeTheory.Auxiliary.CategoryTheoryImports</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#"><span class="id" title="library">TypeTheory.Auxiliary.Auxiliary</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="TypeTheory.Auxiliary.UnicodeNotations.html#"><span class="id" title="library">TypeTheory.Auxiliary.UnicodeNotations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="TypeTheory.ALV1.CwF_def.html#"><span class="id" title="library">TypeTheory.ALV1.CwF_def</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#"><span class="id" title="library">TypeTheory.ALV1.CwF_SplitTypeCat_Defs</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Automatic</span> <span class="id" title="var">Introduction</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Fix_Category"><span class="id" title="section">Fix_Category</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span> : <span class="id" title="definition">Precategory</span>}.<br/>

<br/>
</div>

<div class="doc">
<a name="lab54"></a><h2 class="section">First step of the equivalence:</h2>


<div class="paragraph"> </div>

  We start by reordering the components of <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#cwf'_structure"><span class="id" title="definition">cwf'_structure</span></a></span>,
  so that like <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_def.html#cwf_structure"><span class="id" title="definition">cwf_structure</span></a></span>, the morphism of presheaves comes first:
   ( (Ty, Tm, pp), ( ((◂ + π) , Q), props ) )

<div class="paragraph"> </div>

  We name the intermediate structure produced as follows:

<div class="paragraph"> </div>

<ul class="doclist">
<li> the type of triples (Ty,Tm,pp) is just <span class="inlinecode"><a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#mor_total"><span class="id" title="definition">mor_total</span></a></span> <span class="inlinecode">(<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#preShv"><span class="id" title="definition">preShv</span></a></span> <span class="inlinecode"><a class="idref" href="TypeTheory.Categories.ess_and_gen_alg_cats.html#gen_alg_from_ess_alg.C"><span class="id" title="variable">C</span></a>)</span>;

</li>
<li> the type of triples (◂ + π, Q) is called <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_data"><span class="id" title="definition">rep1_data</span></a></span>;

</li>
<li> the axioms are called <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_axioms"><span class="id" title="definition">rep1_axioms</span></a></span>.

</li>
</ul>

<div class="paragraph"> </div>

  A pair <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_data"><span class="id" title="definition">rep1_data</span></a>,</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_axioms"><span class="id" title="definition">rep1_axioms</span></a></span> is called <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1"><span class="id" title="definition">rep1</span></a></span>, and we define
  <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#cwf1_structure"><span class="id" title="definition">cwf1_structure</span></a></span> as the type of pairs of a <span class="inlinecode"><a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#mor_total"><span class="id" title="definition">mor_total</span></a></span> and a <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1"><span class="id" title="definition">rep1</span></a></span> on it.

<div class="paragraph"> </div>

  The equivalence
     <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#weq_cwf'_cwf1_structure"><span class="id" title="definition">weq_cwf'_cwf1_structure</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#cwf'_structure"><span class="id" title="definition">cwf'_structure</span></a></span> <span class="inlinecode"><a class="idref" href="TypeTheory.Categories.ess_and_gen_alg_cats.html#gen_alg_from_ess_alg.C"><span class="id" title="variable">C</span></a></span> <span class="inlinecode">≃</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#cwf1_structure"><span class="id" title="definition">cwf1_structure</span></a></span> <span class="inlinecode"><a class="idref" href="TypeTheory.Categories.ess_and_gen_alg_cats.html#gen_alg_from_ess_alg.C"><span class="id" title="variable">C</span></a></span>
  is given just (!) by shuffling components.

<div class="paragraph"> </div>

  It remains then to give an equivalence <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#cwf1_structure"><span class="id" title="definition">cwf1_structure</span></a></span> <span class="inlinecode"><a class="idref" href="TypeTheory.Categories.ess_and_gen_alg_cats.html#gen_alg_from_ess_alg.C"><span class="id" title="variable">C</span></a></span> <span class="inlinecode">≃</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_def.html#cwf_structure"><span class="id" title="definition">cwf_structure</span></a></span> <span class="inlinecode"><a class="idref" href="TypeTheory.Categories.ess_and_gen_alg_cats.html#gen_alg_from_ess_alg.C"><span class="id" title="variable">C</span></a></span>.
  Since <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#pp"><span class="id" title="definition">pp</span></a></span> is at the front in both of these, it suffices to give, for each
  <span class="inlinecode"></span> <span class="inlinecode">(<a class="idref" href="TypeTheory.ALV1.CwF_def.html#Ty"><span class="id" title="definition">Ty</span></a>,<a class="idref" href="TypeTheory.ALV1.CwF_def.html#Tm"><span class="id" title="definition">Tm</span></a>,<a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#pp"><span class="id" title="definition">pp</span></a>)</span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#mor_total"><span class="id" title="definition">mor_total</span></a></span> <span class="inlinecode">(<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#preShv"><span class="id" title="definition">preShv</span></a></span> <span class="inlinecode"><a class="idref" href="TypeTheory.Categories.ess_and_gen_alg_cats.html#gen_alg_from_ess_alg.C"><span class="id" title="variable">C</span></a>)</span> <span class="inlinecode"></span>, an equivalence between the remaining
  structure, <span class="inlinecode"></span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#weq_rep1_representation"><span class="id" title="definition">weq_rep1_representation</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1"><span class="id" title="definition">rep1</span></a></span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#pp"><span class="id" title="definition">pp</span></a></span> <span class="inlinecode">≃</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_def.html#cwf_representation"><span class="id" title="definition">cwf_representation</span></a></span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#pp"><span class="id" title="definition">pp</span></a></span> <span class="inlinecode"></span>.

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="rep1_data"><span class="id" title="definition">rep1_data</span></a> (<span class="id" title="var">pp</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#mor_total"><span class="id" title="definition">mor_total</span></a> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#preShv"><span class="id" title="definition">preShv</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a>)) : <span class="id" title="definition">UU</span><br/>
&nbsp;&nbsp;:= <br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∑</span> <span class="id" title="notation">(</span><span class="id" title="var">dpr</span> : <span class="id" title="notation">∏</span> <span class="id" title="notation">(</span><span class="id" title="var">Γ</span> : <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">A</span> : <a class="idref" href="TypeTheory.ALV1.CwF_def.html#Ty"><span class="id" title="definition">Ty</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> : <span class="id" title="definition">hSet</span> <span class="id" title="notation">),</span> <span class="id" title="notation">∑</span> <span class="id" title="notation">(</span><span class="id" title="var">ΓA</span> : <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a><span class="id" title="notation">),</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a><span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#053618d84e7444417fa4c665df3b58f8"><span class="id" title="variable">ΓA</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><span class="id" title="notation">⟧</span><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∏</span> <span class="id" title="var">Γ</span> (<span class="id" title="var">A</span> : <a class="idref" href="TypeTheory.ALV1.CwF_def.html#Ty"><span class="id" title="definition">Ty</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> : <span class="id" title="definition">hSet</span><span class="id" title="notation">),</span> <a class="idref" href="TypeTheory.ALV1.CwF_def.html#Tm"><span class="id" title="definition">Tm</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a> (<span class="id" title="projection">pr1</span> (<a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#dpr"><span class="id" title="variable">dpr</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#A"><span class="id" title="variable">A</span></a>)) : <span class="id" title="definition">hSet</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="ext"><span class="id" title="definition">ext</span></a> {<span class="id" title="var">pp</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#mor_total"><span class="id" title="definition">mor_total</span></a> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#preShv"><span class="id" title="definition">preShv</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a>)} (<span class="id" title="var">Y</span> : <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_data"><span class="id" title="definition">rep1_data</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a>) <span class="id" title="var">Γ</span> <span class="id" title="var">A</span> <br/>
&nbsp;&nbsp;: <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a> <br/>
&nbsp;&nbsp;:= <span class="id" title="projection">pr1</span> (<span class="id" title="projection">pr1</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#A"><span class="id" title="variable">A</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="dpr"><span class="id" title="definition">dpr</span></a> {<span class="id" title="var">pp</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#mor_total"><span class="id" title="definition">mor_total</span></a> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#preShv"><span class="id" title="definition">preShv</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a>)} (<span class="id" title="var">Y</span> : <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_data"><span class="id" title="definition">rep1_data</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a>) {<span class="id" title="var">Γ</span>} <span class="id" title="var">A</span> <br/>
&nbsp;&nbsp;: <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a><span class="id" title="notation">⟦</span><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#ext"><span class="id" title="definition">ext</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#A"><span class="id" title="variable">A</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><span class="id" title="notation">⟧</span> <br/>
&nbsp;&nbsp;:= <span class="id" title="projection">pr2</span> (<span class="id" title="projection">pr1</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#A"><span class="id" title="variable">A</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="te"><span class="id" title="definition">te</span></a> {<span class="id" title="var">pp</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#mor_total"><span class="id" title="definition">mor_total</span></a> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#preShv"><span class="id" title="definition">preShv</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a>)} (<span class="id" title="var">Y</span> : <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_data"><span class="id" title="definition">rep1_data</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a>) {<span class="id" title="var">Γ</span>:<a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a>} <span class="id" title="var">A</span> <br/>
&nbsp;&nbsp;: <a class="idref" href="TypeTheory.ALV1.CwF_def.html#Tm"><span class="id" title="definition">Tm</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a> (<a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#ext"><span class="id" title="definition">ext</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#A"><span class="id" title="variable">A</span></a>) : <span class="id" title="definition">hSet</span><br/>
&nbsp;&nbsp;:= <span class="id" title="projection">pr2</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="rep1_fiber_axioms"><span class="id" title="definition">rep1_fiber_axioms</span></a> {<span class="id" title="var">pp</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#mor_total"><span class="id" title="definition">mor_total</span></a> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#preShv"><span class="id" title="definition">preShv</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a>)}<br/>
&nbsp;&nbsp;{<span class="id" title="var">Γ</span>} (<span class="id" title="var">A</span> : <a class="idref" href="TypeTheory.ALV1.CwF_def.html#Ty"><span class="id" title="definition">Ty</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> : <span class="id" title="definition">hSet</span>) <br/>
&nbsp;&nbsp;{<span class="id" title="var">ΓA</span> : <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a>} (π : <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#053618d84e7444417fa4c665df3b58f8"><span class="id" title="variable">ΓA</span></a> <span class="id" title="notation">--&gt;</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>) (<span class="id" title="var">te</span> : <a class="idref" href="TypeTheory.ALV1.CwF_def.html#Tm"><span class="id" title="definition">Tm</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#053618d84e7444417fa4c665df3b58f8"><span class="id" title="variable">ΓA</span></a> : <span class="id" title="definition">hSet</span>) : <span class="id" title="definition">UU</span><br/>
:=<br/>
&nbsp;&nbsp;<span class="id" title="notation">∑</span> <span class="id" title="notation">(</span><span class="id" title="var">e</span> : ((<a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a> : <span class="id" title="var">_</span> <span class="id" title="notation">--&gt;</span> <span class="id" title="var">_</span>) : <span class="id" title="definition">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ) <span class="id" title="var">_</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#te"><span class="id" title="variable">te</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">=</span> <span class="id" title="notation">(</span><span class="id" title="notation">#</span> <span class="id" title="notation">(</span><a class="idref" href="TypeTheory.ALV1.CwF_def.html#Ty"><span class="id" title="definition">Ty</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a><span class="id" title="notation">)</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#A"><span class="id" title="variable">A</span></a><span class="id" title="notation">)</span><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="TypeTheory.ALV1.CwF_def.html#cwf_square_comm"><span class="id" title="lemma">cwf_square_comm</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#e"><span class="id" title="variable">e</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="rep1_axioms"><span class="id" title="definition">rep1_axioms</span></a> {<span class="id" title="var">pp</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#mor_total"><span class="id" title="definition">mor_total</span></a> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#preShv"><span class="id" title="definition">preShv</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a>)} (<span class="id" title="var">Y</span> : <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_data"><span class="id" title="definition">rep1_data</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a>) : <span class="id" title="definition">UU</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">∏</span> <span class="id" title="var">Γ</span> (<span class="id" title="var">A</span> : <a class="idref" href="TypeTheory.ALV1.CwF_def.html#Ty"><span class="id" title="definition">Ty</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> : <span class="id" title="definition">hSet</span><span class="id" title="notation">),</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_fiber_axioms"><span class="id" title="definition">rep1_fiber_axioms</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#dpr"><span class="id" title="definition">dpr</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#te"><span class="id" title="definition">te</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#A"><span class="id" title="variable">A</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="rep1"><span class="id" title="definition">rep1</span></a> (<span class="id" title="var">pp</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#mor_total"><span class="id" title="definition">mor_total</span></a> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#preShv"><span class="id" title="definition">preShv</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a>)) : <span class="id" title="definition">UU</span> <br/>
&nbsp;&nbsp;:= <span class="id" title="notation">∑</span> <span class="id" title="notation">(</span><span class="id" title="var">Y</span> : <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_data"><span class="id" title="definition">rep1_data</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a><span class="id" title="notation">),</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_axioms"><span class="id" title="definition">rep1_axioms</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Y"><span class="id" title="variable">Y</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="cwf1_structure"><span class="id" title="definition">cwf1_structure</span></a> := <span class="id" title="notation">∑</span> <span class="id" title="notation">(</span><span class="id" title="var">pp</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#mor_total"><span class="id" title="definition">mor_total</span></a> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#preShv"><span class="id" title="definition">preShv</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a>)<span class="id" title="notation">),</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1"><span class="id" title="definition">rep1</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab55"></a><h2 class="section">Equivalence between <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_def.html#cwf_structure"><span class="id" title="definition">cwf_structure</span></a></span> and <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#cwf1_structure"><span class="id" title="definition">cwf1_structure</span></a></span></h2>

</div>
<div class="code">

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="weq_rep1_cwf'_data"><span class="id" title="definition">weq_rep1_cwf'_data</span></a> : <br/>
&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∑</span> <span class="id" title="var">X</span> : <a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#obj_ext_structure"><span class="id" title="definition">obj_ext_structure</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#term_fun_structure_data"><span class="id" title="definition">term_fun_structure_data</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="notation">≃</span> <br/>
&nbsp;<span class="id" title="notation">∑</span> <span class="id" title="var">pp</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#mor_total"><span class="id" title="definition">mor_total</span></a> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#preShv"><span class="id" title="definition">preShv</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a>)<span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_data"><span class="id" title="definition">rep1_data</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">weqcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#obj_ext_structure"><span class="id" title="definition">obj_ext_structure</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">weqtotal2asstor</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">weqcomp</span>. <span class="id" title="var">Focus</span> 2. <span class="id" title="tactic">apply</span> <span class="id" title="definition">weqtotal2asstol</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">weqcomp</span>. <span class="id" title="var">Focus</span> 2. <span class="id" title="tactic">eapply</span> <span class="id" title="definition">invweq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">weqtotal2dirprodassoc</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">weqfibtototal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Ty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">weqcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">weqfibtototal</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">depr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#weqtotal2asstol'"><span class="id" title="lemma">weqtotal2asstol'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">weqcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#weqtotal2asstol'"><span class="id" title="lemma">weqtotal2asstol'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">weqcomp</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">use</span> <span class="id" title="definition">weqtotal2dirprodcomm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">weqcomp</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">weqtotal2asstor</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="weq_cwf'_cwf1_structure"><span class="id" title="definition">weq_cwf'_cwf1_structure</span></a> : <a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#cwf'_structure"><span class="id" title="definition">cwf'_structure</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">≃</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#cwf1_structure"><span class="id" title="definition">cwf1_structure</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">weqcomp</span>. <span class="id" title="var">Focus</span> 2. <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.CwF_def.html#weqtotal2asstor'"><span class="id" title="definition">weqtotal2asstor'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">weqcomp</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#weqtotal2asstol'"><span class="id" title="lemma">weqtotal2asstol'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="definition">weqbandf</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#weq_rep1_cwf'_data"><span class="id" title="definition">weq_rep1_cwf'_data</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">weqonsecfibers</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="definition">idweq</span> <span class="id" title="var">_</span> ).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab56"></a><h2 class="section">Second half of the equivalence</h2>

<div class="paragraph"> </div>

 As per the outline above, it now remains to construct,
  for a given morphism <span class="inlinecode"></span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#pp"><span class="id" title="definition">pp</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_def.html#Tm"><span class="id" title="definition">Tm</span></a></span> <span class="inlinecode">--&gt;</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_def.html#Ty"><span class="id" title="definition">Ty</span></a></span> <span class="inlinecode"></span> in <span class="inlinecode"></span> <span class="inlinecode"><a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#preShv"><span class="id" title="definition">preShv</span></a></span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#pp"><span class="id" title="definition">pp</span></a></span> <span class="inlinecode"></span>,
  an equivalence <span class="inlinecode"></span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1"><span class="id" title="definition">rep1</span></a></span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#pp"><span class="id" title="definition">pp</span></a></span> <span class="inlinecode">≃</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_def.html#cwf_representation"><span class="id" title="definition">cwf_representation</span></a></span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#pp"><span class="id" title="definition">pp</span></a></span> <span class="inlinecode"></span>. Recall:

<div class="paragraph"> </div>

  a <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1"><span class="id" title="definition">rep1</span></a></span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#pp"><span class="id" title="definition">pp</span></a></span> consists of:
<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_data"><span class="id" title="definition">rep1_data</span></a></span>, a triple <span class="inlinecode">(◂</span> <span class="inlinecode">+</span> <span class="inlinecode">π,</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#Q"><span class="id" title="definition">Q</span></a>)</span> as in a CwF, so
<ul class="doclist">
<li> <span class="inlinecode">◂</span> <span class="inlinecode">+</span> <span class="inlinecode">π</span> : for each <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Maps.html#3562cc7411971a7272ede63452e6c9f7"><span class="id" title="variable">Γ</span></a>:<a class="idref" href="TypeTheory.Categories.ess_and_gen_alg_cats.html#gen_alg_from_ess_alg.C"><span class="id" title="variable">C</span></a></span> and <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Maps.html#Fix_Base_Category.compatible_comp_structure_from_term.qq_from_term.A"><span class="id" title="variable">A</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_def.html#Ty"><span class="id" title="definition">Ty</span></a></span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Maps.html#3562cc7411971a7272ede63452e6c9f7"><span class="id" title="variable">Γ</span></a></span>,
        an object <span class="inlinecode"></span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Maps.html#3562cc7411971a7272ede63452e6c9f7"><span class="id" title="variable">Γ</span></a></span> <span class="inlinecode">◂</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Maps.html#Fix_Base_Category.compatible_comp_structure_from_term.qq_from_term.A"><span class="id" title="variable">A</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="TypeTheory.Categories.ess_and_gen_alg_cats.html#gen_alg_from_ess_alg.C"><span class="id" title="variable">C</span></a></span> <span class="inlinecode"></span>, and projection <span class="inlinecode"></span> <span class="inlinecode">π</span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Maps.html#3562cc7411971a7272ede63452e6c9f7"><span class="id" title="variable">Γ</span></a></span> <span class="inlinecode">◂</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Maps.html#Fix_Base_Category.compatible_comp_structure_from_term.qq_from_term.A"><span class="id" title="variable">A</span></a></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Maps.html#3562cc7411971a7272ede63452e6c9f7"><span class="id" title="variable">Γ</span></a></span> <span class="inlinecode"></span>

</li>
<li> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#Q"><span class="id" title="definition">Q</span></a></span> : for each <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Maps.html#3562cc7411971a7272ede63452e6c9f7"><span class="id" title="variable">Γ</span></a></span>, <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Maps.html#Fix_Base_Category.compatible_comp_structure_from_term.qq_from_term.A"><span class="id" title="variable">A</span></a></span>, a tm <span class="inlinecode"></span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#te"><span class="id" title="definition">te</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_def.html#Tm"><span class="id" title="definition">Tm</span></a></span> <span class="inlinecode">(<a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Maps.html#3562cc7411971a7272ede63452e6c9f7"><span class="id" title="variable">Γ</span></a></span> <span class="inlinecode">◂</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Maps.html#Fix_Base_Category.compatible_comp_structure_from_term.qq_from_term.A"><span class="id" title="variable">A</span></a>)</span> <span class="inlinecode"></span>

</li>
</ul>

</li>
<li> some axioms, <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_axioms"><span class="id" title="definition">rep1_axioms</span></a></span>.

</li>
</ul>

<div class="paragraph"> </div>

  a representation of <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#pp"><span class="id" title="definition">pp</span></a></span> is a function giving,
  for each <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Maps.html#3562cc7411971a7272ede63452e6c9f7"><span class="id" title="variable">Γ</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="TypeTheory.Categories.ess_and_gen_alg_cats.html#gen_alg_from_ess_alg.C"><span class="id" title="variable">C</span></a></span> and <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Maps.html#Fix_Base_Category.compatible_comp_structure_from_term.qq_from_term.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">Yo</span></span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Maps.html#3562cc7411971a7272ede63452e6c9f7"><span class="id" title="variable">Γ</span></a></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_def.html#Ty"><span class="id" title="definition">Ty</span></a></span>,
<ul class="doclist">
<li> an object and map <span class="inlinecode"></span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Maps.html#Fix_Base_Category.compatible_comp_structure_from_term.qq_from_term.f"><span class="id" title="variable">f</span></a>^*<a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Maps.html#3562cc7411971a7272ede63452e6c9f7"><span class="id" title="variable">Γ</span></a></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Maps.html#3562cc7411971a7272ede63452e6c9f7"><span class="id" title="variable">Γ</span></a></span> <span class="inlinecode"><span class="id" title="keyword">in</span></span> <span class="inlinecode"><a class="idref" href="TypeTheory.Categories.ess_and_gen_alg_cats.html#gen_alg_from_ess_alg.C"><span class="id" title="variable">C</span></a></span> <span class="inlinecode"></span>;

</li>
<li> a term of appropriate type;

</li>
<li> such that the induced square of presheaves is a pullback.

</li>
</ul>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

  The equivalence between these goes in two steps, essentially:

<div class="paragraph"> </div>

<ul class="doclist">
<li> distributing the quantification over Γ, A to the outside;

</li>
<li> reassociating the sigma-types.

</li>
</ul>

<div class="paragraph"> </div>

  For distributing the quantification, we go via an intermediate defind
  notion <span class="inlinecode"><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep2_data"><span class="id" title="definition">rep2_data</span></a></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="rep2_data"><span class="id" title="definition">rep2_data</span></a> (<span class="id" title="var">pp</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#mor_total"><span class="id" title="definition">mor_total</span></a> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#preShv"><span class="id" title="definition">preShv</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a>)) : <span class="id" title="definition">UU</span><br/>
&nbsp;&nbsp;:= <span class="id" title="notation">∏</span> <span class="id" title="notation">(</span><span class="id" title="var">Γ</span> : <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">A</span> : <a class="idref" href="TypeTheory.ALV1.CwF_def.html#Ty"><span class="id" title="definition">Ty</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> : <span class="id" title="definition">hSet</span><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∑</span> <span class="id" title="var">ΓA</span>π : <span class="id" title="notation">∑</span> <span class="id" title="var">ΓA</span> : <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#053618d84e7444417fa4c665df3b58f8"><span class="id" title="variable">ΓA</span></a> <span class="id" title="notation">--&gt;</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><span class="id" title="notation">,</span> <a class="idref" href="TypeTheory.ALV1.CwF_def.html#Tm"><span class="id" title="definition">Tm</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a> (<span class="id" title="projection">pr1</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#8ff9138822451a34f92ff7086c6e3f29"><span class="id" title="variable">ΓA</span></a><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#8ff9138822451a34f92ff7086c6e3f29"><span class="id" title="variable">π</span></a>) : <span class="id" title="definition">hSet</span><span class="id" title="notation">)</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="weq_rep2_rep1_data"><span class="id" title="definition">weq_rep2_rep1_data</span></a> (<span class="id" title="var">pp</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#mor_total"><span class="id" title="definition">mor_total</span></a> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#preShv"><span class="id" title="definition">preShv</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep2_data"><span class="id" title="definition">rep2_data</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a> <span class="id" title="notation">≃</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_data"><span class="id" title="definition">rep1_data</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_data"><span class="id" title="definition">rep1_data</span></a>, <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep2_data"><span class="id" title="definition">rep2_data</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">weqcomp</span>. <span class="id" title="tactic">apply</span> <span class="id" title="definition">weqonsecfibers</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="definition">weqforalltototal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="definition">weqforalltototal</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="rep2"><span class="id" title="definition">rep2</span></a> (<span class="id" title="var">pp</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#mor_total"><span class="id" title="definition">mor_total</span></a> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#preShv"><span class="id" title="definition">preShv</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a>)) : <span class="id" title="definition">UU</span> <br/>
&nbsp;&nbsp;:= <span class="id" title="notation">∑</span> <span class="id" title="notation">(</span><span class="id" title="var">Y</span> : <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep2_data"><span class="id" title="definition">rep2_data</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a><span class="id" title="notation">),</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_axioms"><span class="id" title="definition">rep1_axioms</span></a> (<a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#weq_rep2_rep1_data"><span class="id" title="definition">weq_rep2_rep1_data</span></a> <span class="id" title="var">_</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Y"><span class="id" title="variable">Y</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="weq_rep1_representation"><span class="id" title="definition">weq_rep1_representation</span></a> (<span class="id" title="var">pp</span> : <a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#mor_total"><span class="id" title="definition">mor_total</span></a> (<a class="idref" href="TypeTheory.Auxiliary.Auxiliary.html#preShv"><span class="id" title="definition">preShv</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1"><span class="id" title="definition">rep1</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a> <span class="id" title="notation">≃</span> <a class="idref" href="TypeTheory.ALV1.CwF_def.html#cwf_representation"><span class="id" title="definition">cwf_representation</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#pp"><span class="id" title="variable">pp</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<span class="id" title="definition">weqcomp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). { <span class="id" title="tactic">exact</span> (<a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep2"><span class="id" title="definition">rep2</span></a> <span class="id" title="var">pp</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">invweq</span>, <span class="id" title="definition">weqfp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep2"><span class="id" title="definition">rep2</span></a>, <a class="idref" href="TypeTheory.ALV1.CwF_def.html#cwf_representation"><span class="id" title="definition">cwf_representation</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">weqcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep2_data"><span class="id" title="definition">rep2_data</span></a>, <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_axioms"><span class="id" title="definition">rep1_axioms</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (@<span class="id" title="definition">weqtotaltoforall</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">Γ</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="TypeTheory.ALV1.CwF_def.html#Ty"><span class="id" title="definition">Ty</span></a> <span class="id" title="var">pp</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> : <span class="id" title="definition">hSet</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Y</span> =&gt; <span class="id" title="keyword">forall</span> <span class="id" title="var">A</span>, <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_fiber_axioms"><span class="id" title="definition">rep1_fiber_axioms</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#A"><span class="id" title="variable">A</span></a> (<span class="id" title="projection">pr2</span> (<span class="id" title="projection">pr1</span> (<a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#A"><span class="id" title="variable">A</span></a>))) (<span class="id" title="projection">pr2</span> (<a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#A"><span class="id" title="variable">A</span></a>)))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">weqonsecfibers</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">weqcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (@<span class="id" title="definition">weqtotaltoforall</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">A</span> <span class="id" title="var">ΓA</span>π<span class="id" title="var">t</span> =&gt; <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_fiber_axioms"><span class="id" title="definition">rep1_fiber_axioms</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#A"><span class="id" title="variable">A</span></a> (<span class="id" title="projection">pr2</span> (<span class="id" title="projection">pr1</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#bb7b40ca3f9e2adb2a4946d921038edd"><span class="id" title="variable">ΓA</span></a><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#bb7b40ca3f9e2adb2a4946d921038edd"><span class="id" title="variable">π</span></a><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#bb7b40ca3f9e2adb2a4946d921038edd"><span class="id" title="variable">t</span></a>)) (<span class="id" title="projection">pr2</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#bb7b40ca3f9e2adb2a4946d921038edd"><span class="id" title="variable">ΓA</span></a><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#bb7b40ca3f9e2adb2a4946d921038edd"><span class="id" title="variable">π</span></a><a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#bb7b40ca3f9e2adb2a4946d921038edd"><span class="id" title="variable">t</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">weqonsecfibers</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="TypeTheory.ALV1.CwF_def.html#cwf_fiber_representation"><span class="id" title="definition">cwf_fiber_representation</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">weqcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#rep1_fiber_axioms"><span class="id" title="definition">rep1_fiber_axioms</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="lemma">weqtotal2asstor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">weqfibtototal</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">ΓA</span>π.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="definition">weqtotal2asstol</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="weq_cwf_cwf'_structure"><span class="id" title="definition">weq_cwf_cwf'_structure</span></a> : <a class="idref" href="TypeTheory.ALV1.CwF_def.html#cwf_structure"><span class="id" title="definition">cwf_structure</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">≃</span> <a class="idref" href="TypeTheory.ALV1.CwF_SplitTypeCat_Defs.html#cwf'_structure"><span class="id" title="definition">cwf'_structure</span></a> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category.C"><span class="id" title="variable">C</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">invweq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">weqcomp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#weq_cwf'_cwf1_structure"><span class="id" title="definition">weq_cwf'_cwf1_structure</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">weqfibtototal</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">pp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#weq_rep1_representation"><span class="id" title="definition">weq_rep1_representation</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#Fix_Category"><span class="id" title="section">Fix_Category</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#weq_cwf'_cwf1_structure"><span class="id" title="definition">weq_cwf'_cwf1_structure</span></a> <span class="id" title="var">_</span> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="TypeTheory.ALV1.CwF_Defs_Equiv.html#weq_cwf_cwf'_structure"><span class="id" title="definition">weq_cwf_cwf'_structure</span></a> <span class="id" title="var">_</span> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>